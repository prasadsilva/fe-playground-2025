import{r as n,d as S,j as l,c as y}from"./index-mr-3fbNQ.js";const D={Clubs:0,Diamonds:1,Hearts:2,Spades:3},u={MoveIndividually:0,MoveAllNextSiblings:1},T="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20class='card'%20face='2C'%20height='3.5in'%20preserveAspectRatio='none'%20viewBox='-120%20-168%20240%20336'%20width='2.5in'%3e%3cdefs%3e%3csymbol%20id='SC2'%20viewBox='-600%20-600%201200%201200'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M30%20150C35%20385%2085%20400%20130%20500L-130%20500C-85%20400%20-35%20385%20-30%20150A10%2010%200%200%200%20-50%20150A210%20210%200%201%201%20-124%20-51A10%2010%200%200%200%20-110%20-65A230%20230%200%201%201%20110%20-65A10%2010%200%200%200%20124%20-51A210%20210%200%201%201%2050%20150A10%2010%200%200%200%2030%20150Z'%20fill='black'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='VC2'%20viewBox='-500%20-500%201000%201000'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M-225%20-225C-245%20-265%20-200%20-460%200%20-460C%20200%20-460%20225%20-325%20225%20-225C225%20-25%20-225%20160%20-225%20460L225%20460L225%20300'%20stroke='black'%20stroke-width='80'%20stroke-linecap='square'%20stroke-miterlimit='1.5'%20fill='none'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3crect%20width='239'%20height='335'%20x='-119.5'%20y='-167.5'%20rx='12'%20ry='12'%20fill='white'%20stroke='black'%3e%3c/rect%3e%3cuse%20xlink:href='%23VC2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SC2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SC2'%20height='70'%20width='70'%20x='-35'%20y='-135.588'%3e%3c/use%3e%3cg%20transform='rotate(180)'%3e%3cuse%20xlink:href='%23VC2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SC2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SC2'%20height='70'%20width='70'%20x='-35'%20y='-135.588'%3e%3c/use%3e%3c/g%3e%3c/svg%3e",M="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20class='card'%20face='2D'%20height='3.5in'%20preserveAspectRatio='none'%20viewBox='-120%20-168%20240%20336'%20width='2.5in'%3e%3cdefs%3e%3csymbol%20id='SD2'%20viewBox='-600%20-600%201200%201200'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M-400%200C-350%200%200%20-450%200%20-500C0%20-450%20350%200%20400%200C350%200%200%20450%200%20500C0%20450%20-350%200%20-400%200Z'%20fill='red'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='VD2'%20viewBox='-500%20-500%201000%201000'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M-225%20-225C-245%20-265%20-200%20-460%200%20-460C%20200%20-460%20225%20-325%20225%20-225C225%20-25%20-225%20160%20-225%20460L225%20460L225%20300'%20stroke='red'%20stroke-width='80'%20stroke-linecap='square'%20stroke-miterlimit='1.5'%20fill='none'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3crect%20width='239'%20height='335'%20x='-119.5'%20y='-167.5'%20rx='12'%20ry='12'%20fill='white'%20stroke='black'%3e%3c/rect%3e%3cuse%20xlink:href='%23VD2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SD2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SD2'%20height='70'%20width='70'%20x='-35'%20y='-135.501'%3e%3c/use%3e%3cg%20transform='rotate(180)'%3e%3cuse%20xlink:href='%23VD2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SD2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SD2'%20height='70'%20width='70'%20x='-35'%20y='-135.501'%3e%3c/use%3e%3c/g%3e%3c/svg%3e",E="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20class='card'%20face='2H'%20height='3.5in'%20preserveAspectRatio='none'%20viewBox='-120%20-168%20240%20336'%20width='2.5in'%3e%3cdefs%3e%3csymbol%20id='SH2'%20viewBox='-600%20-600%201200%201200'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M0%20-300C0%20-400%20100%20-500%20200%20-500C300%20-500%20400%20-400%20400%20-250C400%200%200%20400%200%20500C0%20400%20-400%200%20-400%20-250C-400%20-400%20-300%20-500%20-200%20-500C-100%20-500%200%20-400%20-0%20-300Z'%20fill='red'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='VH2'%20viewBox='-500%20-500%201000%201000'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M-225%20-225C-245%20-265%20-200%20-460%200%20-460C%20200%20-460%20225%20-325%20225%20-225C225%20-25%20-225%20160%20-225%20460L225%20460L225%20300'%20stroke='red'%20stroke-width='80'%20stroke-linecap='square'%20stroke-miterlimit='1.5'%20fill='none'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3crect%20width='239'%20height='335'%20x='-119.5'%20y='-167.5'%20rx='12'%20ry='12'%20fill='white'%20stroke='black'%3e%3c/rect%3e%3cuse%20xlink:href='%23VH2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SH2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SH2'%20height='70'%20width='70'%20x='-35'%20y='-135.501'%3e%3c/use%3e%3cg%20transform='rotate(180)'%3e%3cuse%20xlink:href='%23VH2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SH2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SH2'%20height='70'%20width='70'%20x='-35'%20y='-135.501'%3e%3c/use%3e%3c/g%3e%3c/svg%3e",A="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20class='card'%20face='2S'%20height='3.5in'%20preserveAspectRatio='none'%20viewBox='-120%20-168%20240%20336'%20width='2.5in'%3e%3cdefs%3e%3csymbol%20id='SS2'%20viewBox='-600%20-600%201200%201200'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M0%20-500C100%20-250%20355%20-100%20355%20185A150%20150%200%200%201%2055%20185A10%2010%200%200%200%2035%20185C35%20385%2085%20400%20130%20500L-130%20500C-85%20400%20-35%20385%20-35%20185A10%2010%200%200%200%20-55%20185A150%20150%200%200%201%20-355%20185C-355%20-100%20-100%20-250%200%20-500Z'%20fill='black'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='VS2'%20viewBox='-500%20-500%201000%201000'%20preserveAspectRatio='xMinYMid'%3e%3cpath%20d='M-225%20-225C-245%20-265%20-200%20-460%200%20-460C%20200%20-460%20225%20-325%20225%20-225C225%20-25%20-225%20160%20-225%20460L225%20460L225%20300'%20stroke='black'%20stroke-width='80'%20stroke-linecap='square'%20stroke-miterlimit='1.5'%20fill='none'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3crect%20width='239'%20height='335'%20x='-119.5'%20y='-167.5'%20rx='12'%20ry='12'%20fill='white'%20stroke='black'%3e%3c/rect%3e%3cuse%20xlink:href='%23VS2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SS2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SS2'%20height='70'%20width='70'%20x='-35'%20y='-135.501'%3e%3c/use%3e%3cg%20transform='rotate(180)'%3e%3cuse%20xlink:href='%23VS2'%20height='32'%20width='32'%20x='-114.4'%20y='-156'%3e%3c/use%3e%3cuse%20xlink:href='%23SS2'%20height='26.769'%20width='26.769'%20x='-111.784'%20y='-119'%3e%3c/use%3e%3cuse%20xlink:href='%23SS2'%20height='70'%20width='70'%20x='-35'%20y='-135.501'%3e%3c/use%3e%3c/g%3e%3c/svg%3e",v={TOP_ROW_Y:20,BOTTOM_ROW_Y:240,STACKED_CARD_Y_OFFSET:24,DRAG_Z_INDEX_OFFSET:100,STACK_OUTLINE_Z_INDEX:-10},k="w-[6rem] h-[9rem]",L=[{cards:[{suit:D.Clubs,rank:1,cardImg:T},{suit:D.Diamonds,rank:1,cardImg:M}],behavior:u.MoveAllNextSiblings,hasDropTarget:!0,position:{x:20,y:v.TOP_ROW_Y}},{cards:[{suit:D.Spades,rank:1,cardImg:A}],behavior:u.MoveAllNextSiblings,hasDropTarget:!0,position:{x:130,y:v.TOP_ROW_Y}},{cards:[{suit:D.Hearts,rank:1,cardImg:E}],behavior:u.MoveAllNextSiblings,hasDropTarget:!0,position:{x:240,y:v.TOP_ROW_Y}},{cards:[],behavior:u.MoveIndividually,hasDropTarget:!0,position:{x:20,y:v.BOTTOM_ROW_Y}},{cards:[],behavior:u.MoveIndividually,hasDropTarget:!0,position:{x:130,y:v.BOTTOM_ROW_Y}},{cards:[],behavior:u.MoveIndividually,hasDropTarget:!0,position:{x:240,y:v.BOTTOM_ROW_Y}}];class P{trackedObjDragMoveCallback;trackedObjDragEndCallback;canvasPointerClientX;canvasPointerClientY;usageCount;currentDragData;dragStateChangeListeners;dropCallback;canvasElement;dropTargetRegistry;currentDropTarget;constructor(e){this.trackedObjDragMoveCallback=void 0,this.trackedObjDragEndCallback=void 0,this.canvasPointerClientX=-1,this.canvasPointerClientY=-1,this.usageCount=0,this.currentDragData=null,this.dragStateChangeListeners=new Set,this.dropCallback=e,this.canvasElement=null,this.dropTargetRegistry=new Map,this.currentDropTarget=null}touchInterceptor=e=>{this.isActivelyDragging()&&e.preventDefault()};setDragData(e){this.currentDragData=e,this.dragStateChangeListeners.forEach(a=>a(this.currentDragData))}setCanvasElement(e){const a=this.getCanvasElement();a&&(a.removeEventListener("touchstart",this.touchInterceptor),a.removeEventListener("touchmove",this.touchInterceptor)),this.canvasElement=e,e&&(e.addEventListener("touchstart",this.touchInterceptor),e.addEventListener("touchmove",this.touchInterceptor))}getCanvasElement(){return this.canvasElement}registerDropTarget(e,a,s,r){this.dropTargetRegistry.set(e,{element:e,data:a,onEnter:s,onLeave:r})}unregisterDropTarget(e){const a=this.dropTargetRegistry.get(e);a&&this.currentDropTarget===a&&this.handleDropTargetLeave(),this.dropTargetRegistry.delete(e)}handleDropTargetEnter(e){this.currentDropTarget&&this.handleDropTargetLeave(),this.currentDropTarget=e,e.onEnter&&e.onEnter(e.data)}handleDropTargetLeave(){this.currentDropTarget?.onLeave&&this.currentDropTarget.onLeave(this.currentDropTarget.data),this.currentDropTarget=null}findDropTargetAtPoint(e,a){const s=document.elementFromPoint(e,a);if(!s)return null;for(const[r,i]of this.dropTargetRegistry)if(r===s||r.contains(s))return i;return null}addDragStateChangeListener(e){this.dragStateChangeListeners.add(e),this.usageCount++}removeDragStateChangeListener(e){this.dragStateChangeListeners.delete(e),this.usageCount--}trackCanvasPointer=e=>{const a=e.clientX-this.canvasPointerClientX,s=e.clientY-this.canvasPointerClientY;if(this.trackedObjDragMoveCallback&&this.trackedObjDragMoveCallback(a,s),this.canvasPointerClientX=e.clientX,this.canvasPointerClientY=e.clientY,this.currentDragData){const r=this.findDropTargetAtPoint(e.clientX,e.clientY);r!==this.currentDropTarget&&(this.currentDropTarget&&this.handleDropTargetLeave(),r&&this.handleDropTargetEnter(r))}};registerPointerReleaseCallbacks=()=>{document.body.addEventListener("pointermove",this.trackCanvasPointer),document.body.addEventListener("pointerup",this.handlePointerReleaseNative),document.body.addEventListener("pointerleave",this.handlePointerInvalidNative),document.body.addEventListener("pointercancel",this.handlePointerInvalidNative)};unregisterPointerReleaseCallbacks=()=>{document.body.removeEventListener("pointermove",this.trackCanvasPointer),document.body.removeEventListener("pointerup",this.handlePointerReleaseNative),document.body.removeEventListener("pointerleave",this.handlePointerInvalidNative),document.body.removeEventListener("pointercancel",this.handlePointerInvalidNative)};handlePointerReleaseNative=()=>{this.currentDragData&&this.dropCallback(this.currentDragData),this.clearActiveDragHandler()};handlePointerInvalidNative=()=>{this.clearActiveDragHandler()};getCurrentDropTarget(){return this.currentDropTarget?.data||null}isActivelyDragging(){return this.currentDragData!==null}setActiveDragHandler=(e,a,s,r,i)=>{if(this.trackedObjDragMoveCallback){console.warn("Already in drag mode");return}this.trackedObjDragMoveCallback=r,this.trackedObjDragEndCallback=i,this.registerPointerReleaseCallbacks(),this.setDragData(e),this.canvasPointerClientX=a,this.canvasPointerClientY=s};clearActiveDragHandler=()=>{if(!this.trackedObjDragMoveCallback){console.warn("Unable to clear drag object. Not currently dragging an element.");return}this.currentDropTarget&&this.handleDropTargetLeave(),this.trackedObjDragMoveCallback=void 0,this.trackedObjDragEndCallback&&this.trackedObjDragEndCallback(),this.trackedObjDragEndCallback=void 0,this.unregisterPointerReleaseCallbacks(),this.setDragData(null)}}class I{cardStacks;changeListeners;dragManager;constructor(e){this.cardStacks=S(e),this.changeListeners=new Set,this.dragManager=new P(a=>this.tryHandleDrop(a))}cleanup(){this.dragManager.setCanvasElement(null),this.changeListeners.clear()}getCanvasElement(){return this.dragManager.getCanvasElement()}setCanvasElement(e){this.dragManager.setCanvasElement(e)}getCardStacks(){return this.cardStacks}setActiveDragHandler(e,a,s,r,i){this.dragManager.setActiveDragHandler(e,a,s,r,i)}addDragStateChangeListener(e){this.dragManager.addDragStateChangeListener(e)}removeDragStateChangeListener(e){this.dragManager.removeDragStateChangeListener(e)}registerDropTarget(e,a,s,r){this.dragManager.registerDropTarget(e,a,s,r)}unregisterDropTarget(e){this.dragManager.unregisterDropTarget(e)}tryHandleDrop(e){const a=this.dragManager.getCurrentDropTarget();a?(this.moveBetweenStacks(e,a),this.notifyContextStateChange(!0)):this.notifyContextStateChange(!1)}addChangeListener(e){this.changeListeners.add(e)}removeChangeListener(e){this.changeListeners.delete(e)}notifyContextStateChange(e){this.changeListeners.forEach(a=>a(e))}moveBetweenStacks(e,a){const s=e.stackIndex;if(s===-1){console.warn("Unable to move card. Source stack is invalid");return}const r=a.stackIndex;if(r===-1){console.warn("Unable to move card. Target stack is invalid");return}const i=[...this.cardStacks];switch(this.cardStacks[e.stackIndex].behavior){case u.MoveAllNextSiblings:{const o={...this.cardStacks[s]},c=o.cards.slice(0,e.cardIndex),g=o.cards.slice(e.cardIndex);c.length===o.cards.length&&console.warn("Something went wrong with card removal"),o.cards=c,i[s]=o;const d={...this.cardStacks[r]},h=[...d.cards];h.splice(a.cardIndex,0,...g),d.cards=h,i[r]=d;break}case u.MoveIndividually:{const o={...this.cardStacks[s]},c=[...o.cards],g=c.splice(e.cardIndex,1);c.length===o.cards.length&&console.warn("Something went wrong with card removal"),o.cards=c,i[s]=o;const d={...this.cardStacks[r]},h=[...d.cards];h.splice(a.cardIndex,0,...g),d.cards=h,i[r]=d;break}}this.cardStacks=i}}const R=t=>new I(t),w=n.createContext(null);function O(){const t=n.useContext(w);if(!t)throw new Error("useModel must be used within a PlayingCardsContext");const[e,a]=n.useState(t.getCardStacks()),s=n.useCallback(r=>{a(r?t.getCardStacks():[...t.getCardStacks()])},[t]);return n.useEffect(()=>(t.addChangeListener(s),()=>t.removeChangeListener(s)),[t]),{cardStacks:e}}function f(){const t=n.useContext(w);if(!t)throw new Error("useDragManager must be used within a PlayingCardsContext");const[e,a]=n.useState(null),s=n.useCallback(c=>{a(c)},[]);n.useEffect(()=>(t.addDragStateChangeListener(s),()=>t.removeDragStateChangeListener(s)),[t]);const r=n.useCallback((c,g,d,h,p)=>{t.setActiveDragHandler(c,g,d,h,p)},[t]),i=n.useCallback((c,g,d,h)=>{t.registerDropTarget(c,g,d,h)},[t]),o=n.useCallback(c=>{t.unregisterDropTarget(c)},[t]);return{activeDragInfo:e,setActiveDrag:r,registerDropTarget:i,unregisterDropTarget:o}}function _(t){const{activeDragInfo:e,registerDropTarget:a,unregisterDropTarget:s}=f(),[r,i]=n.useState(!1),o=n.useMemo(()=>e&&e.stackIndex!==t.stackIndex,[e,t]),c=n.useCallback(()=>{o&&i(!0)},[o]),g=n.useCallback(()=>{o&&i(!1)},[o]),d=n.useCallback(h=>{if(h)return a(h,t,c,g),()=>{s(h)}},[t,a,s,c,g]);return n.useEffect(()=>{e||i(!1)},[e]),{dropTargetRef:d,isActivated:o,isDragOver:r}}function j(t,e){const{setActiveDrag:a}=f(),[s,r]=n.useState({x:e.x,y:e.y}),i=n.useCallback(()=>{r(e)},[e]),o=n.useCallback((p,C)=>{r(x=>({x:x.x+p,y:x.y+C}))},[]),c=n.useCallback(()=>{d(!1),i()},[i]),[g,d]=n.useState(!1),h=n.useCallback(p=>{if(p){const C=x=>{p.hasPointerCapture(x.pointerId)&&p.releasePointerCapture(x.pointerId),d(!0),a(t,x.clientX,x.clientY,o,c),x.preventDefault(),x.stopPropagation()};return p.addEventListener("pointerdown",C),()=>{p.removeEventListener("pointerdown",C)}}},[]);return n.useEffect(()=>{i()},[e]),{draggableRef:h,isBeingDragged:g,currentPosition:s}}function N(){const t=n.useContext(w);if(!t)throw new Error("useCanvas must be used within a PlayingCardsContext");const[e,a]=n.useState(!1);return{canvasRef:n.useCallback(r=>{if(t.getCanvasElement()&&r){console.warn("Unable to register canvas element. A canvas is already registered.");return}t.setCanvasElement(r),a(r!==null)},[]),isCanvasAvailable:e}}const m={useModel:O,useDropTarget:_,useDraggable:j,useCanvas:N},Y=t=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"card",face:"outline",height:"3.5in",preserveAspectRatio:"none",viewBox:"-120 -168 240 336",width:"2.5in",...t},n.createElement("rect",{width:239,height:335,x:-119.5,y:-167.5,rx:12,ry:12}));function B({stackInfo:t,position:e,...a}){const{dropTargetRef:s,isActivated:r,isDragOver:i}=m.useDropTarget(t);return l.jsx("div",{...a,ref:s,className:"absolute size-fit",style:{left:`${e.x}px`,top:`${e.y}px`,zIndex:t.cardIndex,opacity:r&&i?1:0,pointerEvents:r?"auto":"none"},children:l.jsx(Y,{className:y("fill-gray-300 stroke-gray-900 opacity-30 dark:opacity-50",k)})})}function H({cardStack:t,stackInfo:e,position:a,isPreviousSiblingBeingDragged:s,...r}){const{draggableRef:i,isBeingDragged:o,currentPosition:c}=m.useDraggable(e,a),g=n.useMemo(()=>t.behavior===u.MoveAllNextSiblings&&s||o,[s,o]),d=t.behavior===u.MoveAllNextSiblings?c:a,h=n.useMemo(()=>({x:d.x,y:d.y+v.STACKED_CARD_Y_OFFSET}),[d]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{...r,ref:i,className:"absolute size-fit",style:{transform:`translateX(${c.x}px) translateY(${c.y}px)`,zIndex:g?e.cardIndex+v.DRAG_Z_INDEX_OFFSET:e.cardIndex,pointerEvents:g?"none":"auto"},children:l.jsx("img",{src:t.cards[e.cardIndex].cardImg,className:y("",k),draggable:!1})}),l.jsx(b,{cardStack:t,stackInfo:{...e,cardIndex:e.cardIndex+1},position:h,isPreviousSiblingBeingDragged:g})]})}function b({cardStack:t,stackInfo:e,position:a,isPreviousSiblingBeingDragged:s,...r}){const i=n.useMemo(()=>({...e,cardIndex:t.cards.length}),[t.cards]),o=n.useMemo(()=>({x:t.position.x,y:t.position.y+t.cards.length*v.STACKED_CARD_Y_OFFSET}),[t.position,t.cards]);return e.cardIndex<t.cards.length?l.jsx(H,{...r,cardStack:t,stackInfo:e,position:a,isPreviousSiblingBeingDragged:s}):t.hasDropTarget&&l.jsx(B,{stackInfo:i,position:o})}const F=t=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"card",face:"outline",height:"3.5in",preserveAspectRatio:"none",viewBox:"-120 -168 240 336",width:"2.5in",...t},n.createElement("rect",{width:239,height:335,x:-119.5,y:-167.5,rx:12,ry:12,fill:"transparent",strokeDasharray:"20,10"}));function X({cardStack:t,stackIndex:e,...a}){return l.jsxs(l.Fragment,{children:[l.jsx("div",{...a,className:"absolute size-fit",style:{left:`${t.position.x}px`,top:`${t.position.y}px`,zIndex:v.STACK_OUTLINE_Z_INDEX,pointerEvents:"none"},children:l.jsx(F,{className:y("stroke-gray-700 dark:stroke-gray-300",k)})}),l.jsx(b,{cardStack:t,stackInfo:{stackIndex:e,cardIndex:0},position:t.position})]})}function V({}){const{canvasRef:t,isCanvasAvailable:e}=m.useCanvas(),{cardStacks:a}=m.useModel();return l.jsx("div",{ref:t,className:"relative",children:e&&a.map((s,r)=>l.jsx(X,{cardStack:s,stackIndex:r},`card-stack-${r}`))})}function U(){return l.jsxs("div",{className:"p-3 select-none",children:[l.jsx("h1",{className:"mb-3",children:"Playing Cards"}),l.jsxs("div",{className:"pb-3",children:[l.jsx("div",{children:"The following is an exploration of drag-n-drop behavior while staying within React, not using the HTML drag and drop API and not using any dnd libraries."}),l.jsx("div",{children:"The top row allows moving cards as a stack. The bottom row allows moving cards individually."})]}),l.jsx(w,{value:R(L),children:l.jsx(V,{})})]})}const Z=U;export{Z as component};
