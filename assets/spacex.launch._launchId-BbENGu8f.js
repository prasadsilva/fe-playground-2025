import{j as e,r as o,R as a}from"./index-BEebxDYA.js";import{b as c,S as l,f as n}from"./format-BHeRrlmm.js";import"./ApolloContext-BaIj2w0u.js";const u=s=>{const i=r=>`https://www.youtube.com/embed/${r}`;if(s&&URL.canParse(s)){const r=new URL(s);if(r.hostname==="www.youtu.be"||r.hostname==="youtu.be")return i(r.pathname.startsWith("/")?r.pathname.substring(1):r.pathname);const t=r.searchParams.get("v");if((r.hostname==="www.youtube.com"||r.hostname==="youtube.com")&&t)return i(t)}return s};function d({details:s}){if(!s)return e.jsx("div",{children:"No details available."});const i=o.useMemo(()=>u(s.links.video_link),[s.links.video_link]);return e.jsxs("div",{children:[e.jsxs("div",{children:["Name: ",s.mission_name]}),e.jsxs("div",{children:["Launch Date: ",n(s.launch_date_utc,"yyyy-MM-dd")]}),e.jsxs("div",{children:["Launch Time (Local): ",n(s.launch_date_utc,"p")]}),e.jsxs("div",{children:["Details: ",s.details]}),e.jsxs("div",{children:["Rocket: ",s.rocket.rocket_name]}),e.jsxs("div",{children:[e.jsx("div",{children:"Video:"}),i?e.jsx("iframe",{id:"ytplayer",width:"640",height:"360",src:i,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}):e.jsx("div",{children:"None"})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Photos:"}),e.jsx("div",{className:"flex flex-row flex-wrap gap-2",children:s.links.flickr_images.map(r=>e.jsx("div",{className:"w-[200px] h-auto",children:e.jsx("img",{src:r})},r))})]})]})}function h({launchId:s}){const{loading:i,error:r,data:t}=c(s);return r?e.jsx("div",{children:"Not Found"}):i?e.jsx(l,{className:"w-full h-[400px]"}):e.jsx(d,{details:t&&t.launch})}const j=()=>{const{launchId:s}=a.useParams();return e.jsx(h,{launchId:s})};export{j as component};
